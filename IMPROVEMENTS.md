# –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ magazz

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è, –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç magazz –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

## 1. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–±–ª–µ–º–∞
–†–∞–Ω–µ–µ —Ä–∞–∑–º–µ—Ä—ã, —Ü–≤–µ—Ç–∞ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ —Ö—Ä–∞–Ω–∏–ª–∏—Å—å –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –≤ –ø–æ–ª—è—Ö `AvailableSizes`, `AvailableColors` –∏ `ImageUrls`.

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω—ã –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏:

#### ProductSize
```csharp
public class ProductSize
{
    public int Id { get; set; }
    public string Size { get; set; }  // S, M, L, XL
    public int Stock { get; set; }     // –û—Å—Ç–∞—Ç–æ–∫ –ø–æ –∫–∞–∂–¥–æ–º—É —Ä–∞–∑–º–µ—Ä—É
    public int ProductId { get; set; }
    public Product Product { get; set; }
}
```

#### ProductColor
```csharp
public class ProductColor
{
    public int Id { get; set; }
    public string Color { get; set; }  // –ù–∞–∑–≤–∞–Ω–∏–µ —Ü–≤–µ—Ç–∞
    public string? HexCode { get; set; } // HEX –∫–æ–¥ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    public int Stock { get; set; }       // –û—Å—Ç–∞—Ç–æ–∫ –ø–æ –∫–∞–∂–¥–æ–º—É —Ü–≤–µ—Ç—É
    public int ProductId { get; set; }
    public Product Product { get; set; }
}
```

#### ProductImage
```csharp
public class ProductImage
{
    public int Id { get; set; }
    public string ImageUrl { get; set; }
    public string? AltText { get; set; }    // SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
    public int DisplayOrder { get; set; }   // –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    public bool IsPrimary { get; set; }     // –ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    public int ProductId { get; set; }
    public Product Product { get; set; }
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ë–î (3–ù–§)
- ‚úÖ –£—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤ –ø–æ –∫–∞–∂–¥–æ–º—É —Ä–∞–∑–º–µ—Ä—É/—Ü–≤–µ—Ç—É
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è –±–µ–∑ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫
- ‚úÖ –ë–æ–ª–µ–µ –≥–∏–±–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ alt-—Ç–µ–≥–∏

---

## 2. –ü–∞–≥–∏–Ω–∞—Ü–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞
–ë–µ–∑ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –≤—Å–µ –∑–∞–ø–∏—Å–∏, —á—Ç–æ –∑–∞–º–µ–¥–ª—è–ª–æ —Ä–∞–±–æ—Ç—É.

### –†–µ—à–µ–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–ª–∞—Å—Å `PaginatedList<T>` —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π:

```csharp
public class PaginatedList<T> : List<T>
{
    public int PageIndex { get; private set; }
    public int TotalPages { get; private set; }
    public int TotalItems { get; private set; }
    public bool HasPreviousPage => PageIndex > 1;
    public bool HasNextPage => PageIndex < TotalPages;
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ:
```csharp
var paginatedProducts = await PaginatedList<Product>
    .CreateAsync(query, page, pageSize);
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
- `page` - –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)
- `pageSize` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 12)

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–π UX –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è

---

## 3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è—Ö —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞
–î–µ–π—Å—Ç–≤–∏—è Create, Edit, Delete –±—ã–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –≤–∫–ª—é—á–∞—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö.

### –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω –∞—Ç—Ä–∏–±—É—Ç `[Authorize]` –Ω–∞ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```csharp
[Authorize]
public async Task<IActionResult> Create() { ... }

[HttpPost]
[Authorize]
public async Task<IActionResult> Create(Product product) { ... }

[Authorize]
public async Task<IActionResult> Edit(int? id) { ... }

[Authorize]
public async Task<IActionResult> Delete(int? id) { ... }
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ best practices –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞

---

## 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API –º–µ—Ç–æ–¥—ã

### –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–∞

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
```csharp
[HttpPost]
[Authorize]
public async Task<IActionResult> AddSize(int productId, string size, int stock)
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞
```csharp
[HttpPost]
[Authorize]
public async Task<IActionResult> AddColor(int productId, string color, 
    string? hexCode, int stock)
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```csharp
[HttpPost]
[Authorize]
public async Task<IActionResult> AddImage(int productId, string imageUrl, 
    string? altText, int displayOrder, bool isPrimary)
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (`isPrimary = true`) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —Ñ–ª–∞–≥ —É –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≥–ª–∞–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ó–∞—â–∏—Ç–∞ CSRF —á–µ—Ä–µ–∑ `[ValidateAntiForgeryToken]`

---

## 5. –£–ª—É—á—à–µ–Ω–Ω—ã–π ViewModel

### ProductListViewModel
–°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π ViewModel –¥–ª—è —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤:

```csharp
public class ProductListViewModel
{
    public PaginatedList<Product> Products { get; set; }
    public List<Category> Categories { get; set; }
    public List<Brand> Brands { get; set; }
    public int? CurrentCategoryId { get; set; }
    public int? CurrentBrandId { get; set; }
    public string? CurrentSearch { get; set; }
    public string? CurrentSort { get; set; }
    public int CurrentPage { get; set; }
    public int PageSize { get; set; }
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –ß–∏—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏
- ‚úÖ –£–¥–æ–±–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ View
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤

---

## 6. –ò–Ω–¥–µ–∫—Å—ã –ë–î –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è:

```csharp
modelBuilder.Entity<Product>()
    .HasIndex(p => p.Name);  // –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é

modelBuilder.Entity<Product>()
    .HasIndex(p => p.Price); // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å WHERE –∏ ORDER BY

---

## 7. TempData –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–î–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö:

```csharp
TempData["SuccessMessage"] = "–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!";
TempData["SuccessMessage"] = "–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω!";
TempData["SuccessMessage"] = "–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!";
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–æ View
```cshtml
@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">@TempData["SuccessMessage"]</div>
}
```

---

## 8. –£–ª—É—á—à–µ–Ω–Ω—ã–µ Seed-–¥–∞–Ω–Ω—ã–µ

–î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:
- 3 —Ç–æ–≤–∞—Ä–∞ —Å –ø–æ–ª–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏
- 11 —Ä–∞–∑–º–µ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- 7 —Ü–≤–µ—Ç–æ–≤ —Å HEX –∫–æ–¥–∞–º–∏
- 4 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å alt-—Ç–µ–∫—Å—Ç–∞–º–∏

---

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏

### 1. –°–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é
```bash
dotnet ef migrations add ImprovedDatabase
```

### 2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é
```bash
dotnet ef database update
```

### 3. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –ø–æ–ª—è–º–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
2. –†–∞—Å–ø–∞—Ä—Å–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏/—Ü–≤–µ—Ç–∞–º–∏
3. –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å–∏ –≤ –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
4. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ø–æ–ª—è –∏–∑ Product

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤** - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤–º–µ—Å—Ç–æ URL
2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –î–æ–±–∞–≤–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –±—Ä–µ–Ω–¥–æ–≤
3. **–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫** - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Elasticsearch –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–∏—Å–∫–∞
4. **–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - –†–∞–∑–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø (Admin, Manager, User)
5. **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
6. **API** - –°–æ–∑–¥–∞—Ç—å RESTful API –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è —Å–ª–µ–¥—É—é—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:
- **SOLID** - Single Responsibility, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏
- **DRY** - Don't Repeat Yourself, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- **Security First** - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ
- **Performance** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å –≥–æ—Ç–æ–≤ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ
